# Fix flicker animation
@@ macrosys2.scs
	51:
		SetFlag 453
	52:
	236:
-		Wait 1
-		FlagOffJump 449, 53
-		Loop 236, 100 * 3 / 50
-		$T(63) = 15 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 100 * 3 / 50;
	237:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 238
-		$T(65) += 1;
-		If $T(65) <= $T(66), 237
	238:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 5 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 100 * 3 / 50;
	239:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 240
-		$T(65) += 1;
-		If $T(65) <= $T(66), 239
	240:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
	241:
-		Wait 1
-		FlagOffJump 449, 53
-		Loop 241, 200 * 3 / 50
-		$T(63) = 20 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 50 * 3 / 50;
	242:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 243
-		$T(65) += 1;
-		If $T(65) <= $T(66), 242
	243:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 5 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 100 * 3 / 50;
	244:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 245
-		$T(65) += 1;
-		If $T(65) <= $T(66), 244
	245:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 15 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 150 * 3 / 50;
	246:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 247
-		$T(65) += 1;
-		If $T(65) <= $T(66), 246
	247:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 8 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 100 * 3 / 50;
	248:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 249
-		$T(65) += 1;
-		If $T(65) <= $T(66), 248
	249:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 15 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 50 * 3 / 50;
	250:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 251
-		$T(65) += 1;
-		If $T(65) <= $T(66), 250
	251:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 5 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 100 * 3 / 50;
	252:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 253
-		$T(65) += 1;
-		If $T(65) <= $T(66), 252
	253:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 10 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 50 * 3 / 50;
	254:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 255
-		$T(65) += 1;
-		If $T(65) <= $T(66), 254
	255:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 5 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 100 * 3 / 50;
	256:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 257
-		$T(65) += 1;
-		If $T(65) <= $T(66), 256
	257:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
	258:
-		Wait 1
-		FlagOffJump 449, 53
-		Loop 258, 500 * 3 / 50
-		$T(63) = 15 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 50 * 3 / 50;
	259:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 260
-		$T(65) += 1;
-		If $T(65) <= $T(66), 259
	260:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 5 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 100 * 3 / 50;
	261:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 262
-		$T(65) += 1;
-		If $T(65) <= $T(66), 261
	262:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 15 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 80 * 3 / 50;
	263:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 264
-		$T(65) += 1;
-		If $T(65) <= $T(66), 263
	264:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 10 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 100 * 3 / 50;
	265:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 266
-		$T(65) += 1;
-		If $T(65) <= $T(66), 265
	266:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 5 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 50 * 3 / 50;
	267:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 268
-		$T(65) += 1;
-		If $T(65) <= $T(66), 267
	268:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		$T(63) = 10 * 256 / 100 - $W(1 * 40 + 4513);
-		$T(65) = 0;
-		$T(66) = 100 * 3 / 50;
	269:
-		$T(65) += 1;
-		CalcMove 1 * 10 + 2408, $T(63), $T(65), $T(66)
-		Wait 1
-		FlagOffJump 449, 270
-		$T(65) += 1;
-		If $T(65) <= $T(66), 269
	270:
-		$W(1 * 40 + 4513) += $T(63);
-		$W(1 * 10 + 2408) = 0;
-		FlagOffJump 449, 53
-		Jump 52
+	@label(reset):
+		$T(65) = 0;
+	@label(loop):
+		$T(64) = $MR[$L(@label(data))]($T(65));
+		If $T(64) < 0, @label(reset)
+		$W(1 * 40 + 4513) = $T(64) * 200 / 1000;
+		$T(65)++;
+		Wait 1
+		FlagOffJump 449, 53
+		Wait 1
+		FlagOffJump 449, 53
+		Jump @label(loop)
	53:
		ResetFlag 453
		End
+	@label(data):
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 221
+		dd 202
+		dd 202
+		dd 242
+		dd 249
+		dd 251
+		dd 242
+		dd 234
+		dd 209
+		dd 232
+		dd 243
+		dd 251
+		dd 251
+		dd 249
+		dd 207
+		dd 229
+		dd 239
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 221
+		dd 229
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 241
+		dd 229
+		dd 249
+		dd 249
+		dd 251
+		dd 251
+		dd 236
+		dd 234
+		dd 249
+		dd 249
+		dd 251
+		dd 251
+		dd 235
+		dd 249
+		dd 234
+		dd 218
+		dd 229
+		dd 229
+		dd 221
+		dd 251
+		dd 251
+		dd 251
+		dd 239
+		dd 229
+		dd 202
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 235
+		dd 251
+		dd 251
+		dd 246
+		dd 251
+		dd 251
+		dd 235
+		dd 251
+		dd 251
+		dd 248
+		dd 227
+		dd 225
+		dd 249
+		dd 251
+		dd 249
+		dd 221
+		dd 215
+		dd 237
+		dd 251
+		dd 251
+		dd 244
+		dd 221
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 241
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 248
+		dd 241
+		dd 251
+		dd 237
+		dd 249
+		dd 251
+		dd 251
+		dd 251
+		dd 248
+		dd 228
+		dd 241
+		dd 251
+		dd 232
+		dd 207
+		dd 208
+		dd 251
+		dd 251
+		dd 251
+		dd 227
+		dd 221
+		dd 251
+		dd 251
+		dd 251
+		dd 249
+		dd 251
+		dd 251
+		dd 251
+		dd 242
+		dd 221
+		dd 251
+		dd 251
+		dd 242
+		dd 251
+		dd 249
+		dd 223
+		dd 228
+		dd 215
+		dd 221
+		dd 223
+		dd 251
+		dd 251
+		dd 251
+		dd 243
+		dd 235
+		dd 251
+		dd 235
+		dd 241
+		dd 251
+		dd 229
+		dd 228
+		dd 251
+		dd 239
+		dd 242
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 230
+		dd 215
+		dd 251
+		dd 229
+		dd 204
+		dd 215
+		dd 251
+		dd 251
+		dd 215
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 227
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 232
+		dd 251
+		dd 229
+		dd 204
+		dd 201
+		dd 251
+		dd 251
+		dd 218
+		dd 235
+		dd 237
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 229
+		dd 251
+		dd 251
+		dd 243
+		dd 251
+		dd 251
+		dd 251
+		dd 216
+		dd 221
+		dd 221
+		dd 251
+		dd 251
+		dd 251
+		dd 237
+		dd 228
+		dd 229
+		dd 251
+		dd 242
+		dd 237
+		dd 251
+		dd 251
+		dd 251
+		dd 201
+		dd 249
+		dd 251
+		dd 251
+		dd 251
+		dd 235
+		dd 208
+		dd 242
+		dd 251
+		dd 251
+		dd 239
+		dd 235
+		dd 202
+		dd 251
+		dd 251
+		dd 244
+		dd 235
+		dd 221
+		dd 211
+		dd 251
+		dd 251
+		dd 234
+		dd 251
+		dd 251
+		dd 243
+		dd 242
+		dd 227
+		dd 204
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 235
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 223
+		dd 209
+		dd 229
+		dd 251
+		dd 229
+		dd 214
+		dd 251
+		dd 251
+		dd 249
+		dd 251
+		dd 251
+		dd 251
+		dd 236
+		dd 235
+		dd 208
+		dd 242
+		dd 239
+		dd 229
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 249
+		dd 251
+		dd 232
+		dd 232
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 251
+		dd 241
+		dd 251
+		dd 251
+		dd 251
+		dd 229
+		dd 229
+		dd 225
+		dd 235
+		dd 227
+		dd 232
+		dd 221
+		dd 213
+		dd 235
+		dd 251
+		dd -1
